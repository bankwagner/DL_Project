services:
  srserver:
    build:
      context: ./
      dockerfile: Dockerfile
    image: smartlab:test_image_gpu
    container_name: test_container_gpu
    volumes:
      - .:/home/custom_user/
    ports:
      - "8899:8888"
      - "2299:22"
    restart: unless-stopped
    deploy:
      resources:
        reservations:
          devices:
          - driver: "nvidia"
            capabilities: [ "gpu" ]
            count: 1